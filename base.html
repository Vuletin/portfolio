<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio of Sava - Full-Stack Developer with Python">
    <meta name="keywords" content="Python developer, Flask, portfolio, full-stack developer, Sava">
    <meta name="author" class="chromatic" content="Sava">
    <title>Sava's Portfolio</title>

    <!-- ✅ Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- ✅ Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

    <!-- ✅ Your custom CSS -->
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <!-- ✅ Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">Sava</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/projects">Projects</a></li>
                    <li class="nav-item"><a class="nav-link" href="/about">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="/contact">Contact</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://buymeacoffee.com/vuletin">BuyMeaCoffee</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- ✅ Page Content -->
    <main class="container mt-4" id="char-zone">
        {% block content %}{% endblock %}
    </main>
    
    <!-- ✅ Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-5">
        <p class="mb-0 chromatic">&copy; {{ 2025 }} Sava.</p>
    </footer>
    
    <!-- ✅ Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- CRT Scanline Overlay -->
    <div class="scanline-container">
    </div>
    <script>
    document.addEventListener("DOMContentLoaded", () => {
    const container = document.querySelector(".scanline-container");

    function createScanline() {
        const line = document.createElement("div");
        line.classList.add("scanline");

        line.style.height = `${Math.random() > 0.8 ? 3 : 1}px`; // 30% chance thicker

        // Randomize animation speed & delay
        const duration = (Math.random() * 3 + 2).toFixed(2); // 3s–5s
        const delay = (Math.random() * 5).toFixed(2);        // 0–5s

        line.style.animationDuration = `${duration}s`;
        line.style.animationDelay = `${delay}s`;

        container.appendChild(line);

        // Remove old scanlines after some time so container doesn’t fill up
        setTimeout(() => line.remove(), duration * 1000 + 2000);
    }

    // Keep generating glitchy scanlines
    setInterval(createScanline, 2000); // every ~2s a new one
    });
    </script>

    <!-- Floating 0s and 1s -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("char-zone");
        const chars = ["0","1"];

        function spawnChar() {
            const char = document.createElement("div");
            char.className = "floating-char";
            char.textContent = chars[Math.floor(Math.random() * chars.length)];

            const mainHeight = container.offsetHeight;
            const mainWidth = container.offsetWidth;

            // define left/right zones relative to main
            const leftZone = { x: [330, -270], y: [60, mainHeight] };
            const rightZone = { x: [mainWidth - 330, mainWidth + 270], y: [60, mainHeight] };
            const zones = [leftZone, rightZone];

            const zone = zones[Math.floor(Math.random() * zones.length)];
            const x = Math.floor(Math.random() * (zone.x[1] - zone.x[0])) + zone.x[0];
            const y = Math.floor(Math.random() * (zone.y[1] - zone.y[0])) + zone.y[0];

            char.style.left = x + "px";
            char.style.top = y + "px";

            container.appendChild(char);

            // remove after fade
            setTimeout(() => char.remove(), 2000);
        }

        // spawn one every 500–1000ms
        setInterval(spawnChar, 20);
        });
    </script>

    <!-- ✅ Custom JS for typing effect -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
        const typedElements = document.querySelectorAll(".typed");

        typedElements.forEach((typedEl, idx) => {
            const text = typedEl.dataset.text;
            let i = 0;

            function typeNextChar() {
            if (i < text.length) {
                typedEl.setAttribute("data-typed", text.substring(0, i+1));
                typedEl.textContent = text.substring(0, i+1);
                i++;
                setTimeout(typeNextChar, 30); // adjust typing speed
            }
            }

            // Delay each typed block so they don't all start at once
            setTimeout(typeNextChar, idx * 1000);
        });
        });
    </script>

</body>
</html>